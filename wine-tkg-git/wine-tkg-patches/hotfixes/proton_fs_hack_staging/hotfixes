#!/bin/bash

# win32u moves broke some user32 interactions in fshack which I failed to fix so far - Revert for now
if [ "$_use_staging" = "true" ] && [ "$_proton_fs_hack" = "true" ] && ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 8fb1779241b02af85e920a0a7b944855126c4148 HEAD ); then
  # Staging
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 87083566479467a536b2d3d373e3ef28ab517875 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts31)
  fi
  if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 872dc83e81c942d17a39700c4b520a6e92ddbdf2 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/unicode)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor ab31919ee5c8b826190e05b40acd8fe704a6a1e5 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts30)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor e7622edfc9a0475a128ea7980383869e6bdc9791 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts29)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 6be691c005b0d268f3dd38a3dbe76bc95f4e155f HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts28)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 3d9f724967a07c9e7da121b9b61a30da2c091259 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts27)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 2d5e6b24dcfaf6fd1224815172aac37a582fc3cf HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts26)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 0e42f8ce9ac5b7d71c4e514b961f0dda9d813349 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts25)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 8f0f175429520fe61b04b7e3a94c98efb487a37b HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts24)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 3fe7d402eb7d4a712841241af85e52a41e7d734a HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts23)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 7fc2d64fee29b2c115becbef1d9006e2ebc13fa2 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts22)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 8ee2551c93b7f62bdbd26e8dbc8a666fc2051518 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts21)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 699309db0f2e54881409cf2a05d4ec6628b171e9 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts20)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 6a9fb5a923b8320f9402b46026cfcbd0957448e5 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts19)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 486d9f3f7426827ae61d5a5795d13d685a9c5242 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts18)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 9c37968a298935a8c33aecdc0acdcb42170c7c6a HEAD ); then
     _staging_args+=(-W user32-alttab-focus)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 0f597ea71c820e76ee49b882e02895cd2cf81c0c HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts17)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 50067e77d56c05f3e301446f6046493140c32fdd HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts16)
  fi
  # Fixups
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor b54ac2f2b21284c7ddb0b7e1dca03ac242db423a HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-596e7a7)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 9e823e7f3e003d295f0e7948bf99ff700a386333 HEAD ); then
    if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 850b7f6540e01fbfffa3bf814ad50a9fc0e00f61 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-ed0734c-2)
    else
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-ed0734c)
    fi
  fi
  # /Fixups
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 87212e802dcc1f3e4b5d91406efc1a9753dc0071 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts15)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 91cb025138745b32fdd399a6931bc5967b1e5ad5 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-35e4fa1)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 7b5a66b852f71b161914e0cc7c2a52e29ed0ed96 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-eea217b)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 9d853b7c44f2fbdd4c2b1b7a3c6c877f131f83ed HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts14)
  fi
  # Fixup
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 94f94f38433ccc78a36e626316dffc29f0bbf8c0 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-25ac82d)
  fi
  # /Fixup
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 6b4b9f1b5a105b0baaac1c97e60cf184b561ceb9 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts13)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 9e6939027d0e5e44abc299d14ac67c8ef62a9bf3 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts12)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 5147239513e46eade22c4fafbf4c0b5e388574c7 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-6208102)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 2aab2d521a0c05e0554f19e98f37d95a1d0beaff HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts11)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor ccce92e0d3274ef43dcd8656358f73969a2fb3ce HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts10)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor cc4ecadad0872490aa43d3457be1ed42b8f64409 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts9)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 0b3309a201cfe65098e93f0f23af82509d1c6c72 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts8)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 9ddf82d8603ac28626a732ab11db2f79c2e8f801 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts7)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor de2f0fee6f1f7070ef4454bd9d5c4c562b2509d2 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/commit-de2f0fe)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 1e406a419666aa62d9ba76d42b5cc85ffce2a406 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts6)
  fi
  if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor f0719cee763b6cb381d276449bd5fef6aeaf0c7c HEAD ); then
    if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 850b7f6540e01fbfffa3bf814ad50a9fc0e00f61 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts5-2)
    else
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts5)
    fi
  elif ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 8647380744a7c78a6818451918676d3ac86c6b86 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts4)
  elif ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 2f728605b0281cbd7cb3ae92817827aed878cc2b HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts3)
  elif ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 3d32dd06263b797f6313100b128e8a54da9f0c57 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts2)
  else
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts)
  fi

  # Fixup for black screens on alt-tab in some games - https://github.com/Frogging-Family/wine-tkg-git/issues/678
  # Thanks to pongo1231
  _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/proton-fshack-removeminimizestuff)

  # Legacy
  if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 7ba3c31d84fcf49810aaf78aff63ef28b32eb159 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/remove_hooks_that_time_out-legacy)
  fi
  if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 5bcb9d12631769e9d980151399f059805dc37dc3 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/user32.implement_rudimentary_EnableMouseInPointer_support)
  fi
  if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor dfd5f109fb4ebad859bf3ce3960b3b2b2ad1341d HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Add_a_GPU_for_each_Vulkan_device_that_was_not_tied_to_an_XRandR_provider-legacy)
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Ignore_ClipCursor_if_desktop_window_is_foreground)
  fi
  # /Legacy

  if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 84bed157e82a8c49d200645bcc780f0f83c93016 HEAD ); then
    _hotfix_mainlinereverts+=(929694c66d216484ba54b1c2c270d63b41d93ea9 421fb1c80493df8e9ce0b8e5dabe6e78bf624a52 98128a65e7e10d705d90ad05e2b5ff3ca517b6cb c0b62eb5aef8b58c903521685a155b224b38b6a9 1bd73c6c3e2b8737b7377dd7be3dc7e7a13c2edf 224a8fc24ed79a52d69a2cb2cb71cf11b8564f55 d7457fd32e17cbadbccee2faf2c0738765389094 395273d6e10a478dbbb974766c15634af6ddc4f5 581b30d3180f0898be6d8af8aa90002795c365a5 cd0b4393e5e0c2b7ec2e5824fb3dce44380ac401 d621a7a3e3fddc7528e3a0c95be4aba66a3b133a 65b71e858eaeb108dc3934ab424f10b0b1cefbba 7e2beeec911b0c8b8180f0e25bb8f5d9bb9a5b71 d909f2759066afd128aa1a299d3367c7ab76da8f a2395ecf963b85ca0ea2f002982af07fc8241db9 1587e9db88c8ad1afe4401290ce130664a5a4a40 c484e4b87ead26389b6192b3be672348d4218520 37a3c916b447bab5932ae202c053bceaba46e594 cf9e6b3b2281eba68a76e8677d9a36f866178e63 fa7aaca9f1e057cc8a411edb77f5728510bb9c88 3dc3709f4cf49456b02720ff1a12412bc07e0dee 1cd5702d9f4787f56a342b52ae9b4dcf5356b8e9 fcf4d07161478ec8ea0707a50af02acc7fe6df6a 11657aab278e73a892843b33e196b8f4375d54f9 68bb2f62e9b153a61f0f7f14a8fe0b954710f2cd bb94ec19435be0668dda5a74e1b544de97345cb6 1de20f86ea81b212009a4fab7b79a2fb7d4d4e06 35413f9217e56209784032f749b97c481d3b4c84 840ec530410c8b78bdc6884b487a31eae7ff146b 4c584fe773a75632fbfbb371f23036f8fd1a453c 689826a02c7d1711858d5f15588e4f04f230d1ff 546638a8751feb0956c7b7705b4865ad2484d287 20414797edf900f61d198611e7e3cb09091bbe57 237778d7f6974a36184888bf8bbcfe10cd9fe5d1 000891f7193883bf1e0afaca179d00094decf985 104d6a12057d73f2c1d842a320b1a9fd56c781bc 35a59e07b923e42d9bb391b0fef7acd25a9eb9d7 2ebfe2fd55ee73a8d8bc172801080d1ec594bf89 561890f47e0588b2d52b059490e33b72405ef2b0 87b8a912a8e42d0643096a420a71a7e0054191a1 c660d37ae725531ef0accce504adebd2b19a2687 b3c7fff85a5d3cb1896e7ee43e09a0ce245300e3 9639d0d6dbd73543a32c97776ed20b4832850af2 d50112b4b6e82782d3924a8dbd443f82f64e510d 43c851c796b06ed54fe093b859134063d457ba27 8ecb3aa5cc3a061b978d645a807a35884749415a 399dfc2580b2a124d8711b15b6e11fdae49ff910 b20f39858c0eaf8300681637b6eab1055aa2c48a b1ffc6ca74e40d9d0f6e258572b5177cb469d249 7b77b4e3b4ea732ed592ac15f000875f5d1f1daa 0cd65f0083c30a4058b8439a0d463518a57037a9 ca630fb653a0bd73075caa4ddfa413a62617de60 a23c1279c6403fda85bcb6c9ca0861b0e853b370 47dd8a6a9b1193ec1656cdf04117b94a3cf07025 81df0bc7ef2790e36ee545adf3f05157811771fd 7df56c9b3a3f69ef4af497713a30c75bedfc50dc 218e469812aa948057824cd0c41850e390af45ef d246c1a1da9f5ef757a9ede9e211e589e6e191cd a53330b9c137388f3b9e78f2aacffa3fc1692d6e 0d6d8f388aea4889a79a913fea7c10b1056ffdd2 88462d9127f68519e6ba3db019466e60f28d36c1 e52e42b8756ff4453889e05e16a8cfc3c299eefc b3fddeb8e4fe06cded9241eee8ed87c115d0a2ef 6395bf962fe55d93bc3ca599d4519daccb7ab4de 1e5d4e94229201b66f62a89138bf6c654e91f335 c1c57bd75014d660abbe456d926320e80b088d67 2ef6a6eee67cc3fb5b81e9dc4594bee40e908332 26a4fb74ee9966252724627969a35637fb5e8f70 7040cf17ff7ca3731d012adaa63ab4de22858425 70ad65d8d19fa354e3bdfdab362cb7a154f75f75 51f414bdc2dcb07b97570ebffec96369e9e2086f 348eebae872e90a735041a153635d00b01178cfa d328af75fee0f10dab67ab64fee78e2e2da7a447 18ae96e5fb3cbbd53f1a022ba81203de6b431228 ed546bf190cf5570df3086e4c7c42f7083c2a5a3 d3c57dec71e714d4922daa45fee019fbc7dc7180 0826fbbb745917c7414df27da26c2cad7a0eac9a 047d74c4b10bfbd62ad0530959237caad110be46 f4f589c421154d0fa05faa87fd845e4455aabc67 0e763f72a62112a80368e20f366870b22656184a 9c1ecf997108bf8ef06d156590f5cb10f2d2f9f5 f5b3283e245b34ddbd3d5dc58095c1fce9492c7b 3e8a4b671dca2d22596c43157e2ae80fcfe18737 8f3e19a52f4cb373ef0225a1bcab4fb9ae06a851 d7d9344003edf5599a5190ada049461a2acca808 7babf7578927cd70941a3692552e945272c284a7 f6ddd4ca86672fe2739ea7d17015112bce677e21 d9fc5b3f967f1c5126278565beb6b967f9d6d80a 87a5c1bda526259ce03b16babef3274b39f7c727 d83fcafcd3023caba84eadea3f3c6f7a04b1d954 a7e135f4b36822a622de732e1af52ef2f18d8ab3 d9a4bdfdc05ba027fb9ed44f01e6805f349ff8a2 566dd3af36f3c23cf25f91180297e81c3e219b78 4ce220e4e837186217e69537d7888d8d5bf6dde5 360f12d307296dfa268bac963e1f8c8028c3f238 0f96698b6c2d4d13db4794917ce3871461545321 42fe58a45289b897ae5c0dc89e64360cfe0085d2 f85985abbec9b2528fea1f97b56c38ab45cb98bf 4de61c465fe8bb44fc6000e9b351ba918d5ded34 5f93b3ca93835f501a801836b9104d40d64f07e3 67630d0f4c2c5b24f9219f9787bf93efeeec32d6 48441212986817bd485df23654413fec6f7f3725 9d3058aa3a7ff9e86d6f78007b2e727110848284 c9c69dff7e9b9d9842a79f255c376f0baa3ad310 79910bcf83e2b42688e8c85d6d3d730eac7f34ca 419893519c0660a765ebb9898b5ccf64c273b0cf 13727e42e965a7a105c0081fbfc775aad22ffbab 6452e67ebabf553944e16544364658a6c23c6110 a7ff88c9a28d097b3479c1d6c554af5d83171435 22cab055e41db442739fa22aaf7bfd3121d60c5f b4ba6de6e135ca5003926b424c616a9872bb5377 00eff14f33233a7aa2330d9242e1f3584cc3b4e2 b5c65f1ee095a1729ea8dd95a895a404cee48de7 5cc3808a629b8517c3d7375284bfab9f01c818b2 a4c36cba8d1ad35711b97c0b75bfe4c73b2f2cdd b8a639c08c252abce2f77296ec38177a0c31377d ff166bac152a38b6984fe58ff3142c054251aab6 0a930890192726e64bc6207c0d04f44e4c849b7d cbbab655710ad938d8455568487e47c33aa7240f 0ce4ed675f927fb7f67e088af810e7e1f500783a 9546953bfaa0db0dd2d054ff5205cf8ef660a721 290a5314c8bc43344b781a903b5791b8b0ffb9d6 e411b9815546e2127aacbef7129ab40f833be7c6 fee6acf337f127b9fe57fd7d2651d1e7390af1f2 2bd0c8727875ed001068f91299511ce58f5a1c2c af8ed02b572081206be6c505261f5f2e98a8053c 313f75a0afc108db904aae4885da1f3783cd34c5 d7dba1ed740708d584093152d571f8f0b1440bdc 177513a53274c75f8279ee393326ca663c908ef3 13a04cdf519b8a7b23a5d52c0e81a9d03df901da 5b7a862c03e7e35b4eea6f3d52de05919a36c148 7c418f14f352c5d715825484418d8d9d0e9f2f21 e2d3fc7c07d19207ee8a81f92dfdcad0d09387bb 9f267c225893f665ffb0d8c8636166a2b42a4789 0868ca1578d8dd9a4f8386ddbe8aaffd8b34c40f 992d69b9d128e9c519306e36fd103ea4bd1b76bb 7099c8d7e85a88677d0992cb59fa3c225eb3322f 4a53c479e8647636b327a81d9f3537d7d5c0ae03 9260d114b1e73810b86cfcf535d54d30fdb56ed3 e68b27b14fa66ad61656195f5e68b03eafbbce7c 2299d400260d0bfaf3218a023262bff13768713e 26ab701072aaf0188bcc9fc8bd1239ed09b1c7d5 04716457559706e7b406f08546e86b9d6765cbc2 8d9648702d33b0f866df25fd0358d7a9d82bb4e0 88870884a54b943d62882c2d37e47660983cf6f6 c7e0697e9ce0d5a67af0c3dca6ea95a4c15aece5 3ec9c2990b9a5370f9657dbcd8ccee915d234c02 749e1b05d7e68de4dccef77b4a2a379fe9345c9d 591fd06b6c8e3266d9ed534408c931261a0f6099 db43005cd8438c65ef5828f4db8d6e681b2b309d 12e3c4949fe581c8afea01034d96eaeebc03360b ac5f064521e20ead01829914f392d801d3099fa8 86f9c8b1f6f8f5eb00c848e22b80a043726c6d8e 4663446fe4406f73748121c1eca5a93a832c31b5 19e8cc96b5bae745b1b01ffb874e8f0ad9ab941e bdae778e7fa2e82d8dbcfb8c1d46dfd616743cb5 67e39efb7528dc9e5505b8e7fbc3e0e39f1c5779 fc940d5834751c80d4e7ded25f46c4eacfa1c041 b9d8a842f0ba1e4c3c59b9e9ede667bea1761e6e 76a0108c594ec9ac6d52a196c15d8181e89fb350 389832e0d965b086d268cee88539eba12ecce8b8 8ddf64b69a821d1df029f188755b0928ea81cd9a 80ef8832aa697c4e7e16f640f5e722ade6a43fad 07f2cc9dda1c71a845e901f3270cc19fca9dbed1 6f3ed5fd64c6708b9811f8c0d58f26b786433655 dad8044f1a5a171771f9d172e12f6b39cd60eae7 95b76f510164ec8fbfe0f5ea9b1ed7df64f41e5d eda3732afda87367d8196f360ee07c833be275d2 d4b8ca785307083abc449dd09efa3394d9ad9771 e13145c893e3de376008b3eeaf531e3f000a7410 af00521e290fab8966c61ec8dd956152e47ddaa5 05b29423e592481a9e09165f484346ff0444304f 6ead654f5537c75e61294bd2ea6acfc97247db2b d65f2492ed3982e09fc38ebaae96c1f293f223a3 817dca10997e1b9214cb101e3da7221bf2cc379e 9f03d8f3e1ba0fae01934cd0938a0caa80b28972 952affeaeb933edfee4fa4722bb1e4ce320b8f5d 61ad0b844d07c7f9f398b96b0ff049a19560079e 9c6895e37d00ea78d6be0dc5116fc8ad4dcab865 6e2ea185c2acdb91b5367e9f72c770e2caa6fc16 a8ed1c94b397cfb83e345ff41f37db62f91e8d5f 540dc761fc4bc8df3a73eb15ceab1415f94d9a7a b2db69efcf473a2b7dc6e26155069a4f4094db9d ff66d8ee0fb80ca0b23c8cc2c33a4a53068ecc6c eae27293ba5153b8efd3d2e5c0d103c88c3b13b2 915ac1c197cbb100d2487cc337c044466d84f91a 2a3b4c9bd7062c93568bc1acb864ea714e2c9560 db8f64375654f67c59995e5f0a8f854b109cf44f 40cda88021601c4bfc93db24ba9b6ddc4b3a5257 84bed157e82a8c49d200645bcc780f0f83c93016)
    if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 194e09baeca42b369b391d87c9605338b8fbc978 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/mainline-reverts-compilation/fshack-84bed15-a3ebf88-monolith-reverts-2)
    else
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/mainline-reverts-compilation/fshack-84bed15-a3ebf88-monolith-reverts)
    fi
  else
    # bf86dfbcadbe0e79ae07afb57e469f388a9104a7 - 1e7c6d73c8f558668c6140d4a97fae0ad51d71eb - ThreadPowerThrottlingState
    _hotfix_mainlinereverts+=(c4dd394aa428831b3896916dc4147726bc076f93 daddd9b3d41c6be9e294ee83d1722400642e05cc f1549e7f6c6ae9898ce6093a0888ffa2c549bfbf 22342300d915cd3516307f13d2207e77025f1cbe dd818662b24777f1da1411da0dc476d350659746 c701734c364844ba4d081214802d46a27b81f9f5 80e24bcc01c0863049ca3380356c9b53e4a86eb9 a21983f1340258f9338de56cd2f15ea7fb31bdfb 4938929ccf16be6564f65c37711fc5dea93f9c23 3aa1a86b3ffa99d4b81f4276325a89b0cc9e019e 4998bbacef89875db65b80d96e1bd43c3033c2c3 b49dd456fafae254d79f59d141eb10011ba21005 f30332fe5eaa6d05ec1491702fd4424cf29bd7dd 469a2ce5cca42e1519736de3b150cb774673730d dd3d988e43b2eae421dc2e75fa94dd03217736ec 219eb6ece23b3455252dc763634f9ae53547f21c 8bfe37c880aeb58ca0d8cf55222e7ba31813ce92 7fa47e47c995d84d9753d5128a93e4c1ab8a75d7 fa670ef001faa850177e5ea4dd87174d4098f276 8ed990164c5c5f9235cc71b89f67d37d6aca99c2 340d1b7a8f2bb3bb85993d4136b1b2b54c483c4f 58e4adf0b90946ae5f19299bf91ef1b2a0b22f77 1d56578e65e8a6558dbf85f6e02e72f88abdc484 0d5c6d55bf36cbc712cc3585c6b2e13fbf49996d 7625e6ba20c70d59d61a73e5c2b2b5243e0e0143 2d4b85a9f7110b5b6d9ee6b28740a8a4053c040c 6f825503d9bebc6f657396b30bb34cbc88a7142e d8a74e5cf9f259c5ec9480e74d286c93609b8d9c 806d85529f34da0ebcf05fe6b7631849372834d8 546cbdc2508acdc2672b13e1ce838a54feb4db47 4312d209232c701b0b78d9f8b463917c989005c5 a0a890b78cede1afb84acff163bc1ef54bf5beb4 5e18d7d8234e5d9186e94c58d0ef21bf62d05544 ef0cb9157fec8e23cf970b7a1e2934a974fc55da cdb23964b0bfb10260561531f72ea4513b503981 221fce4c17751da0966c2d5750f1f067592f9638 671f6b2af60250f5e0e9d07a821a1d935d67b898 455e334a9e0a5b7a974a6d7f9675ab2a679aa70d 36e2d7e9583d3d9db9613be89cfbe158d7fec8ac 6e7701ae0655817094358466f3b53df2c9307fd5 cccec04f9aaed265854b06af6f888d94e5fcc465 bf86dfbcadbe0e79ae07afb57e469f388a9104a7 1e7c6d73c8f558668c6140d4a97fae0ad51d71eb cf4a781e987a98a8d48610362a20a320c4a1016d 08f5d2adf9c6e9d9e479cc668bfa03e54fd5bedd fd6e137dfe16700e0a0a7ebb23b413019bc18193 47e5a0bb5d8aef98557ddf65d10674e3b03877f3 a566df118fc4e2935cac8f3fd3df3fa764ec4a69 7b9fd8012f30da74ebe33e3863cc41480c640dc8 169a09b443fc193a73fd87f0a07447f969e30b9a 973e12daae6356c3cb702dd5fe226a03bf7be05c d71abff141f9cd361bcabf90d492e31fb91cf8d7 b34018db20bcd55cb1266d4aa3c7e5257ca96a78 dfeb2d2474292b65795f431e2864b7364abcfdfe 336f033273b6b70e49e8736d1059704947003272 a15df248e5fb52765cdad856167e49e28ad4fbc5 9abd2ae8d18c096fe4b62db4408d3777f0a34851 96b2b4c078c4b807e24a39526cdc97e8125c1364 e2d79b395d9efe38f149bc6209df14ec5b934045 6a4ff4de66e2cd344396d71f0b063adab990e228 6ebfc35fc43c62ba9b16d158025e66b5b6cb6bf3 0f7c7cd7a089d70c4be7bdd6b57ca200dbc93752 e85875d59d0c67c8728a988be7fe238aad6a9b72 8bc0c8d64604945540ba37b41becf343a2ae4a37 4a98b07c4bcc35a698448261478ba856c149cbea 4cf797d4d8c2b5af5ef8b46f9d7290e5333f8756 37b74e644a9011e9c79c2540c4bb7152555037a3 4a98b07c4bcc35a698448261478ba856c149cbea 781b9544244bce97a44c5eb5916da23437653991 b9a40c4b26407659d89c67388fe14fed60dc3e17 63ce060e5b33ca4b58d508be11af4d3c214fae33 135e3176b64eb0ea139f40adb7f5b1c3e89e3577 0e0438bfaaee58d999340fd91db2bc5fcab433dc 1f296397cafbbd5bcf59f01bdf739ccc4a3658ae a3132f2906d0f8bdcb150749b3fbe31a63923da0 a3d4eefa0d851e79154b5b509434c439cde5e511 10f38c06008a1410bc9a1f7d239d831c6b21749a 6dd08c34dccd491add3528b29726ae684b6be264 2c1b7c8c170224657aa4ccbc79374c543d6b84f5 2f4a338da3fd80a0bffd4bfdafbd81208928b977 0dcd1eaae57a6d14a9166c21ab99edf3ec3b036a 21c8ff873b9657a1b8cb632ab4ec435d6ffdf065 d8c807ba98578abd5132c1815e1316f689a93ebd 4af9ac6733440aafc220306a3c835ccc96b61936 7769c8e9dfe238194d4ae7aab80ad83dc55d2e18 70d3e41d64b765112320c9ccc36ec9b7317d14e0 7256519102368ae47ec60c95026b18f79421c008 21d269f2fc9795188e08bae45adb6bd2a2ebb311 e41630612ba2cb2f64ef3f3de7c712aafe7a2288 6290d0599d1a9f28c99970127ffb233b5abd1bc2 040d1f9bbd20c9d507279ea5585188db15ff3a6c a34669b238b121313b6c3aecdcb1a1fbc231e8a6 1a89cea4f6ccc153bb9030dae940ac8a1a9352ca 30d5a04f6d8dd74c2a390e3bf9569ad6d5b9c01c 17afa305777a2cced2fa77f937ecb2216fda3e3c bf1d5d286b2c05ed6ba4db060ca905872fa3f621 095773b36a5822a0a6752741073765bdd23d69c9 27b151763dcd23c17f0f30958288f42dabeea912 0062917fdf195160bf6872dc90c60834738ae044 fce3f9c323feaf257859d1a037f16818a11eb105 7cc4d83fec3f13ebb0d2b79a860527d8b4e55dec a25519ecc673c6c62d9fe606eeac249e4ac55140 c736411fb897444609fd539d0a110772a292daca f4b9ff7850d0d55cd0ac4bf383de2aca323d7f4a e02c2f82d49c98424f3743c50a32a47d23e15295 30e172203dfaa44393fdcc362fdc4da6db40ae18 0e37ee61b577ca1ec337718ef8681f9a40a8150a 12326097116b1e60b191e274d9199814323610c1 c0a8b2dbd55e8d7e1e66960076ec07da645e85d1 03e8991735f9c5f0634821e680015a1dd747f6a6 ac9b63580018354c5a7c9164bb5c781b9e2b6cbf 365bc308bed3391fe3cc9c6ac8fc34c7a484d9d3 033cad432e1d93a0ddf5a5b71a989f31441f588c d2d715b2016f3f10f0918938594b4ed6a4dbb068 4604c4554007165e84d4dc44db215975923e2ba2 189da79a18bcb7baabcd50de36bf2a6ba818b79d dc0d16f192fa245dea07384b8290d7b64ac1970a bad82953dbe5c0a8a61f81ca5313d7f32a004977 1899cd2a9eebbadf5bca45f601b850ef0d8ce308 d366ef515d0970aea352fe160c7ee08ed61bc3a0 77ab51019f56b1537c531d1b5233b75c5e6983e4 75c297f2b81a0e69181db1f07ae386ca4119047c d5a367783eef7390b8cc73fe6b090c757b997863 c7a07f73c5d027142a76eebb9dc0d4edabcd935a 926f5bb416b77b1d479a71a8d18fc10204fc46d0 bd721f037144f8a9e31e841fd9c34c1662f5810b 6afcd71a82fdbbaf61f2e83ef1eeb9f50cc67642 56f1ed6a2a852376e0fbdecdbd7b332b26a6cf78 aa9072998fa3be07494a763fafe6a98e24edc593 ace09cf315dba49913eb3e2eec12e4d7b482885b e510f8650e843c7735675184f5b7a28be27dfc8a 1d337249f16ed61163315019f5dbbe4db3386390 3b06509f4697803e214d5c7ad11c56c1ec89adf9 d25c8c5770f99b29c05168855c368f7fe4583876 f7ac2c7833ceaa015501aef76b8f10f5fbd9cd92 fa9e9b5c562a6bd2263a06490e5bb047b72140aa 0e5ad562c51ef5f46fd3ada0d5d9920ed8bc747d bfa51809e44439586eb1cce1390162f17d3f164c 3c05f3b24704cb09389960b8c6ee584db9a61759 a37cae58d984b6d7e0c4c3de21f0b7cbef603ffd 0082d58cb5375a06ce33f431f6cf338e9c4b672b 1c01148696b164094b11624cee2985573744f83a 55bbe99c29264aeddec6932cb5e4fca03ecc9471 93543d9e6a3e2003a60dc9fa13ec3607a7817fcf c46630cd4bb49b5440521d7b277f831569e2afe8 286471a307792dc6662043ce36438a285cb506a4 ba8024bfcdb26d4a7eb8dc1ad53a3424d13df7e2 b8732c80b112af388264ac84d726aad09d93c8c6 535682cd79251c921121b0c87857a1f77cc27607 5ce53f95cf61cbd7f998ddc706a88cddb7a70c76 94a0823c4f6d419b6d868f8eba8977422f6cb074 ef8e4b7e3e32e2beb317411c5bd6e5cedf71cfb7 306ad4786d980b44785c6f1cb9f9c65f7fba2c56 eba0a510021ff8597536e83f67174ccf9283ad01 cad4adedaa92e3114eef34d7cdbb0bace548276d 3eb944c0a7a1b4857cb0b74d04a8450b636c98de 30c266a625286f264e65b1e205001f781e5d55c9 f1fb42ac4d4924beba3e5d48cf76132a2bbbaecc ea9fb81c0998222bf72d982494433c8a2d7149aa 357d8654c9fd128e801b7fa914dc635fc84d7b94 c38e287befdf1f2910d7e23ccff5638d57cd411d 172ae86945cb861d672cba37790e65782dac722f 99b94fcc743e17c1ba03c51ab3d53c6f99c5fad4 ea4353858d96235f362c5f94c9c5e0e83ad04edd 019313b63e9a4b70bae519675d1940f503e6f1a7 5e4dedff8e062fb21e0719ccbbbb5d5ca53cec75 079b0423b5b2fe321b8cae76c61c1bc47b24ac64 95378c56b8efa5bdd1822e317995bb096d0bd711 c5e7f1b0e5e34bfdb03c63e3ea07e7fdaa1543be ee405dd8b88683417af1e21ae6a254edadc32723 782220626fa7148d0d7421a5f7e632083a4b89f2 9015ae5978a15adb8e2fdd48824d08b3cf3680ed 19a2af27673271a464172fb8f115ca4f811325e2 d275253f5db5532f4778ae14344fe28ab2b88c54 0528f37fdd9b11cc95d074bb9e261d5127cb6ec3 12cb04fd2f13707e5b7eeed24f0ef916e71cd4fb db9b7b0f511197255d0cbe81605a42e34bf630d6 3e94864540fd1cd7dbd71f48a4c5e81a915357c0 356f37466fe1db8216c86c7a5bbe41876b07f196 aae54301207c1ce10f7f845c9ab6c5725036e2b2 29062759676e87551848de5b2787304d7f950b49 2425488ef66d774485ba3da9277fc9973c8a6669 f534e3f499dbee05352e155e43fbf9df0289d56f b8a2198d40de9bb3dd5c4aad7ae860602f4de3f5 95825139b8f65cb8dae843c2e6ed407024358729 9a320b39387d33e5a180b5db65cea05ce8ba4fe9 53978351a07cd81b38ed37e08f7c213d95cb79f7 fd83308b0b89dc560df77221dcd509bca336a323 83501c7eaabcff25373910b33b4e5c779b56f398 870d0080b04ee1789f2d71767c664ee3d834c502 6db4613be926171b747562b41f98527bdc414f91 80a4919b8a9749f07fdd9d27afde620383c4c36f b2bc410b7cc2966c24de69dfa16eb6830f8056b1 e395c161edf239bbe8055c2237857a44d2fe9b04 acfec2f94ce4e9bb778cc4830f164ac200894ad8 62e51da2cdb6bf033c6820db93002b68873aca93 35ac1b3f0700b3f6c1b8a9bbb87e9aad37ce3cc6 bed878dd2b88cff039b5659739e801606ee7df4b a2dcfd1d6d0e5715a4bbd30935b81454dd18def0 2c7b8e001111bb9e7bdf0189ca88d85883f6d90d a4d6198ac597b0cfd1f0a89ba71e12ea772352ce 72d53fda590126acb8cee72cb1fd208946d55d8c 6ea417b2d5a6c2d589578f1e9f958af64eb6f0fd 38bea949c02dd1116afc4c6d3df095490b803676 0efb4bb92808ac18ca27afedc04b936e69bf2cea 11a75a65d705bf1d732ec6e3f2ee904f54cbce9c 8b6a4584b80477f5dc43d71fe2dd16f7b1a135de 4104b19ade7532aba5645cb7410b4c6aebe45b8e 52ff3a3094f7a8e9d50cb0170d6d98714795c29a 0953de5cab03d4582ae4e5c900cec7bf7223a46d 262831bc63dca2d63171aa98d19e8f2566907dbc 21c37e8f957a8433e5bf78b0ff10b56959cbf22a dddb84433222c5623b295db6542b8944467c1288 55f4cf8c851cc156c5b77f9e333e4feed61387b6 523a6eba0250e734a30b9310ab694e2a2af6d6ca cfb6f9a1e82caa56eac9dccf7d7d0c0f3cd9a9a8 31dbce9675b6f2b25a4af5d4102fc36213838137 dae11519da7791bb0fe824111a65848816a31875 322ee7938386e0c96ba5423ba92a45520dda3f60 7f64eead50bc8e7a079a2a71986366d7fcad21e1 dcca04606e83c5c6df8abe5cc183d734bb99e1b5 6f1e48f4242f817ed04c8db6c162fbd296486f31 4f705f6f62185de6fa78b88b0aaec554a0fbf0de 5cc2d4adc5d183ed322b48bf3a7ec8359ef2abd5 d8db12a958ba312a517e7ade7f2c43428cdba600 63ad05bc02d2c56689559afaa71b2fe2cb6ef3c0 65ff9caca02af9544f3fc62c1e12fd90f6176af2 be8acff719ef4f0698a1ca845b35c0d430f92fd1 a94eab5acf5e9b9aaf47573713532d22f1f0b62d f6524f7a3a8048424071dcef3e367bac00a68599 1d0fbcc9d997b4d0adf5eeb8b467f54c9853d584 12a6f8d49b3defe6d25643db8a7d8fe838e042f2 c31954dfa7b026bc13960d3c8184ee94e1b4b05c d32d3b4f315ea20e3df655c79790323439521476 27cfcaa277764127a28368f8315f7c26cb326f7a b7f108ed9c91c91adf0f3ce0d5806b1c3e7625e0 6062065723c0d1f964ed1569a17cbe8fba01d9f4 22de82978eafef97b84248203503e284ca557783 d513eee3ee4e9107c0b433bf9182155022fdf8ee 5bcb9d12631769e9d980151399f059805dc37dc3 4072ba5d8a893df73cc1f3ce48f290d07643a109 e1db9fef05154f59f21d199a6a9691ae9c81144c 6062065723c0d1f964ed1569a17cbe8fba01d9f4 37de5d24a881e1830c672853e8e31a4844d3f52e b99778a531ed3dc2c5bb069d9351b0979c08414f 2c01eb392b0fd85a0b8c1be653a6356bee8e2942 980de6afe48b4b51e4e8c0af25f54e16a4eb219d d42888f07c6e3e491c99bb5c8b62b568264e990c 52eac01237c5e77d7c720731bc1844b196034edd 30cc496099705faaf282d5dbe66b27a75ba17b20 74da33b7914d191afff03637dda1d60ee09710ca dca49630a9caf34c85a576428a16f4091ac33ac8 177eb908c9433bd1b45c243d3b13e996711c1cd3 6ff2d287c2a74c7701e649218d3f4fc39014ab79 21d60952cb3a45c8c5dc0d88dab19ecdb1807570 7ba3c31d84fcf49810aaf78aff63ef28b32eb159 b666d908d5827e5b2ce2bd0c111b3297f4a6de2e 2a833a1c862e7ec421978540ad83aadc16cdda8a 2db1fea630887995ddef50bfe8bf1255188a8b76 dda4b573ead715b6091c988f8ffb87395a957ddb 58c4488626237bfddb2909983dee17348254061b 6badbee323cc4fbe884381d88a14041b1cd86f3d 2656d667a802a4264bb79dae6e56378ce0b807a5 e72d4630722db6e945b5c238019782e4b080879b f499b1a7abe92f54f4749f9f98981ada734b848a 27c0b997f0ed937536261f21856e071dd7e87ccd 0cfc7c445810c52622afa2b2635e0a23861df386 1e5dc840f7c36928cdcfb42736283d55afa62def c1a9b0b6a98faddf5b64ac99f3fed759b0199f46 6b3da8a4d8fe4d9cdb82e8c52c1548166c00bf5f 747f7b543ca777e4596a3f3f6811fcbec73a07f8 39ef9c3ad83e715611ebc2204ec09d83f3d5490f 8345d21b3a650bbc279989e05803b067db40ca55 8e3fef2627d0bfd6c7912fab77a794941518983c 44f667fa14c308b489be123c5ed6153010e8e430 d765edc411a6844f6322dd9da280aa0436391828)
    # winex11
    _hotfix_mainlinereverts+=(56b8a67f5af4aa68662a848715875fdb0b3d10d9 5ee6fcb30c26840afd6593379f4753a60d37404b 3a11be1d48251ecbc0b99d7f4b3325bddbcd486b b01bf347ad2a7799ccd94dfc8a22d7898204691c 37f31840b90f9de83052c7fe377b4f8c1d5daed2 4631b007c1149f7738d9ac39e5b4922cb7f9a742 df4ddc30b35fe96b0f571a715679c4baf98e43dd c3ed3403bae88f6a9fed26dd2fa0b622018cfd2a 91d6e8b4abe46a58a931c8b6ce0383bffa8f2566 bdbbc3467c24db07810e09f988c4498e7a8de3e2 1e2dd059e9537edb1cc50473e5d3959716abd713 50c74048853fa05f4b035317f11bb6b7001b8d22 824e9bddd583b7ace5b0a31d9f7a9dbec65d369a a3ebf88ad5da03a78b74b2a5a756b36eb29b6cb3)
  fi
  # staging
  _hotfix_stagingreverts+=(d589a0bc4443fe7dcee56779b69bbb518278604d fff59d624e2b3d647726f7c16a242014641d431d 1c911ccb630ae90a96e97176f7277d3c46e63898)
elif [ "$_proton_fs_hack" != "true" ] && [ "$_use_staging" = "true" ]; then
  #childwindow
  if ( cd "${srcdir}"/"${_winesrcdir}" && ! git merge-base --is-ancestor c86955d3806879fc97b127730e9fb90e232710a7 HEAD ); then
    if [ "$_childwindow_fix" = "true" ]; then
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 87083566479467a536b2d3d373e3ef28ab517875 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts31)
      fi
      if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 872dc83e81c942d17a39700c4b520a6e92ddbdf2 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/unicode)
      fi
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor ab31919ee5c8b826190e05b40acd8fe704a6a1e5 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts30)
      fi
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor e7622edfc9a0475a128ea7980383869e6bdc9791 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts29)
      fi
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 6be691c005b0d268f3dd38a3dbe76bc95f4e155f HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts28)
      fi
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 3d9f724967a07c9e7da121b9b61a30da2c091259 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts27)
      fi
      if ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 699309db0f2e54881409cf2a05d4ec6628b171e9 HEAD ); then
        _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u_reverts20)
      fi
      if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 84bed157e82a8c49d200645bcc780f0f83c93016 HEAD ); then
        _hotfix_mainlinereverts+=(d909f2759066afd128aa1a299d3367c7ab76da8f a2395ecf963b85ca0ea2f002982af07fc8241db9 1587e9db88c8ad1afe4401290ce130664a5a4a40 c484e4b87ead26389b6192b3be672348d4218520 37a3c916b447bab5932ae202c053bceaba46e594 cf9e6b3b2281eba68a76e8677d9a36f866178e63 fa7aaca9f1e057cc8a411edb77f5728510bb9c88 3dc3709f4cf49456b02720ff1a12412bc07e0dee 1cd5702d9f4787f56a342b52ae9b4dcf5356b8e9 fcf4d07161478ec8ea0707a50af02acc7fe6df6a 11657aab278e73a892843b33e196b8f4375d54f9 68bb2f62e9b153a61f0f7f14a8fe0b954710f2cd bb94ec19435be0668dda5a74e1b544de97345cb6 1de20f86ea81b212009a4fab7b79a2fb7d4d4e06 35413f9217e56209784032f749b97c481d3b4c84 840ec530410c8b78bdc6884b487a31eae7ff146b 4c584fe773a75632fbfbb371f23036f8fd1a453c 689826a02c7d1711858d5f15588e4f04f230d1ff 546638a8751feb0956c7b7705b4865ad2484d287 20414797edf900f61d198611e7e3cb09091bbe57 237778d7f6974a36184888bf8bbcfe10cd9fe5d1 000891f7193883bf1e0afaca179d00094decf985 104d6a12057d73f2c1d842a320b1a9fd56c781bc 35a59e07b923e42d9bb391b0fef7acd25a9eb9d7 2ebfe2fd55ee73a8d8bc172801080d1ec594bf89 561890f47e0588b2d52b059490e33b72405ef2b0 87b8a912a8e42d0643096a420a71a7e0054191a1 c660d37ae725531ef0accce504adebd2b19a2687 b3c7fff85a5d3cb1896e7ee43e09a0ce245300e3 9639d0d6dbd73543a32c97776ed20b4832850af2 d50112b4b6e82782d3924a8dbd443f82f64e510d 43c851c796b06ed54fe093b859134063d457ba27 8ecb3aa5cc3a061b978d645a807a35884749415a 399dfc2580b2a124d8711b15b6e11fdae49ff910 b20f39858c0eaf8300681637b6eab1055aa2c48a b1ffc6ca74e40d9d0f6e258572b5177cb469d249 7b77b4e3b4ea732ed592ac15f000875f5d1f1daa 0cd65f0083c30a4058b8439a0d463518a57037a9 ca630fb653a0bd73075caa4ddfa413a62617de60 a23c1279c6403fda85bcb6c9ca0861b0e853b370 47dd8a6a9b1193ec1656cdf04117b94a3cf07025 81df0bc7ef2790e36ee545adf3f05157811771fd 7df56c9b3a3f69ef4af497713a30c75bedfc50dc 218e469812aa948057824cd0c41850e390af45ef d246c1a1da9f5ef757a9ede9e211e589e6e191cd a53330b9c137388f3b9e78f2aacffa3fc1692d6e 0d6d8f388aea4889a79a913fea7c10b1056ffdd2 88462d9127f68519e6ba3db019466e60f28d36c1 e52e42b8756ff4453889e05e16a8cfc3c299eefc b3fddeb8e4fe06cded9241eee8ed87c115d0a2ef 6395bf962fe55d93bc3ca599d4519daccb7ab4de 1e5d4e94229201b66f62a89138bf6c654e91f335 c1c57bd75014d660abbe456d926320e80b088d67 2ef6a6eee67cc3fb5b81e9dc4594bee40e908332 26a4fb74ee9966252724627969a35637fb5e8f70 7040cf17ff7ca3731d012adaa63ab4de22858425 70ad65d8d19fa354e3bdfdab362cb7a154f75f75 51f414bdc2dcb07b97570ebffec96369e9e2086f 348eebae872e90a735041a153635d00b01178cfa d3c57dec71e714d4922daa45fee019fbc7dc7180 0826fbbb745917c7414df27da26c2cad7a0eac9a 047d74c4b10bfbd62ad0530959237caad110be46 f4f589c421154d0fa05faa87fd845e4455aabc67 0e763f72a62112a80368e20f366870b22656184a 9c1ecf997108bf8ef06d156590f5cb10f2d2f9f5 f5b3283e245b34ddbd3d5dc58095c1fce9492c7b 3e8a4b671dca2d22596c43157e2ae80fcfe18737 8f3e19a52f4cb373ef0225a1bcab4fb9ae06a851 d7d9344003edf5599a5190ada049461a2acca808 7babf7578927cd70941a3692552e945272c284a7 f6ddd4ca86672fe2739ea7d17015112bce677e21 d9fc5b3f967f1c5126278565beb6b967f9d6d80a 87a5c1bda526259ce03b16babef3274b39f7c727 d83fcafcd3023caba84eadea3f3c6f7a04b1d954 a7e135f4b36822a622de732e1af52ef2f18d8ab3 d9a4bdfdc05ba027fb9ed44f01e6805f349ff8a2 566dd3af36f3c23cf25f91180297e81c3e219b78 4ce220e4e837186217e69537d7888d8d5bf6dde5 360f12d307296dfa268bac963e1f8c8028c3f238 0f96698b6c2d4d13db4794917ce3871461545321 42fe58a45289b897ae5c0dc89e64360cfe0085d2 f85985abbec9b2528fea1f97b56c38ab45cb98bf 4de61c465fe8bb44fc6000e9b351ba918d5ded34 5f93b3ca93835f501a801836b9104d40d64f07e3 67630d0f4c2c5b24f9219f9787bf93efeeec32d6 48441212986817bd485df23654413fec6f7f3725 9d3058aa3a7ff9e86d6f78007b2e727110848284 c9c69dff7e9b9d9842a79f255c376f0baa3ad310 79910bcf83e2b42688e8c85d6d3d730eac7f34ca 419893519c0660a765ebb9898b5ccf64c273b0cf 13727e42e965a7a105c0081fbfc775aad22ffbab 6452e67ebabf553944e16544364658a6c23c6110 a7ff88c9a28d097b3479c1d6c554af5d83171435 22cab055e41db442739fa22aaf7bfd3121d60c5f b4ba6de6e135ca5003926b424c616a9872bb5377 00eff14f33233a7aa2330d9242e1f3584cc3b4e2 b5c65f1ee095a1729ea8dd95a895a404cee48de7 5cc3808a629b8517c3d7375284bfab9f01c818b2 a4c36cba8d1ad35711b97c0b75bfe4c73b2f2cdd b8a639c08c252abce2f77296ec38177a0c31377d ff166bac152a38b6984fe58ff3142c054251aab6 0a930890192726e64bc6207c0d04f44e4c849b7d cbbab655710ad938d8455568487e47c33aa7240f 0ce4ed675f927fb7f67e088af810e7e1f500783a 9546953bfaa0db0dd2d054ff5205cf8ef660a721 290a5314c8bc43344b781a903b5791b8b0ffb9d6 e411b9815546e2127aacbef7129ab40f833be7c6 fee6acf337f127b9fe57fd7d2651d1e7390af1f2 2bd0c8727875ed001068f91299511ce58f5a1c2c af8ed02b572081206be6c505261f5f2e98a8053c 313f75a0afc108db904aae4885da1f3783cd34c5 d7dba1ed740708d584093152d571f8f0b1440bdc 177513a53274c75f8279ee393326ca663c908ef3 13a04cdf519b8a7b23a5d52c0e81a9d03df901da 5b7a862c03e7e35b4eea6f3d52de05919a36c148 7c418f14f352c5d715825484418d8d9d0e9f2f21 e2d3fc7c07d19207ee8a81f92dfdcad0d09387bb 9f267c225893f665ffb0d8c8636166a2b42a4789 0868ca1578d8dd9a4f8386ddbe8aaffd8b34c40f 992d69b9d128e9c519306e36fd103ea4bd1b76bb 7099c8d7e85a88677d0992cb59fa3c225eb3322f 4a53c479e8647636b327a81d9f3537d7d5c0ae03 9260d114b1e73810b86cfcf535d54d30fdb56ed3 26ab701072aaf0188bcc9fc8bd1239ed09b1c7d5 04716457559706e7b406f08546e86b9d6765cbc2 8d9648702d33b0f866df25fd0358d7a9d82bb4e0 88870884a54b943d62882c2d37e47660983cf6f6 c7e0697e9ce0d5a67af0c3dca6ea95a4c15aece5 3ec9c2990b9a5370f9657dbcd8ccee915d234c02 749e1b05d7e68de4dccef77b4a2a379fe9345c9d 591fd06b6c8e3266d9ed534408c931261a0f6099 db43005cd8438c65ef5828f4db8d6e681b2b309d 12e3c4949fe581c8afea01034d96eaeebc03360b ac5f064521e20ead01829914f392d801d3099fa8 86f9c8b1f6f8f5eb00c848e22b80a043726c6d8e 4663446fe4406f73748121c1eca5a93a832c31b5 19e8cc96b5bae745b1b01ffb874e8f0ad9ab941e bdae778e7fa2e82d8dbcfb8c1d46dfd616743cb5 67e39efb7528dc9e5505b8e7fbc3e0e39f1c5779 fc940d5834751c80d4e7ded25f46c4eacfa1c041 b9d8a842f0ba1e4c3c59b9e9ede667bea1761e6e 76a0108c594ec9ac6d52a196c15d8181e89fb350 389832e0d965b086d268cee88539eba12ecce8b8 8ddf64b69a821d1df029f188755b0928ea81cd9a 80ef8832aa697c4e7e16f640f5e722ade6a43fad 07f2cc9dda1c71a845e901f3270cc19fca9dbed1 6f3ed5fd64c6708b9811f8c0d58f26b786433655 dad8044f1a5a171771f9d172e12f6b39cd60eae7 95b76f510164ec8fbfe0f5ea9b1ed7df64f41e5d eda3732afda87367d8196f360ee07c833be275d2 d4b8ca785307083abc449dd09efa3394d9ad9771 e13145c893e3de376008b3eeaf531e3f000a7410 af00521e290fab8966c61ec8dd956152e47ddaa5 05b29423e592481a9e09165f484346ff0444304f 6ead654f5537c75e61294bd2ea6acfc97247db2b d65f2492ed3982e09fc38ebaae96c1f293f223a3 817dca10997e1b9214cb101e3da7221bf2cc379e 9f03d8f3e1ba0fae01934cd0938a0caa80b28972 952affeaeb933edfee4fa4722bb1e4ce320b8f5d 9c6895e37d00ea78d6be0dc5116fc8ad4dcab865 ff66d8ee0fb80ca0b23c8cc2c33a4a53068ecc6c 6e2ea185c2acdb91b5367e9f72c770e2caa6fc16 61ad0b844d07c7f9f398b96b0ff049a19560079e 84bed157e82a8c49d200645bcc780f0f83c93016)
        if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 194e09baeca42b369b391d87c9605338b8fbc978 HEAD ); then
          _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/mainline-reverts-compilation/childwindow-84bed15-0dcd1ea-monolith-reverts-2)
        else
          _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/mainline-reverts-compilation/childwindow-84bed15-0dcd1ea-monolith-reverts)
        fi
      else
        _hotfix_mainlinereverts+=(b49dd456fafae254d79f59d141eb10011ba21005 0d5c6d55bf36cbc712cc3585c6b2e13fbf49996d 5e18d7d8234e5d9186e94c58d0ef21bf62d05544 221fce4c17751da0966c2d5750f1f067592f9638 bf86dfbcadbe0e79ae07afb57e469f388a9104a7 1e7c6d73c8f558668c6140d4a97fae0ad51d71eb 6a4ff4de66e2cd344396d71f0b063adab990e228 dfeb2d2474292b65795f431e2864b7364abcfdfe 336f033273b6b70e49e8736d1059704947003272 a15df248e5fb52765cdad856167e49e28ad4fbc5 9abd2ae8d18c096fe4b62db4408d3777f0a34851 96b2b4c078c4b807e24a39526cdc97e8125c1364 e2d79b395d9efe38f149bc6209df14ec5b934045 e2d79b395d9efe38f149bc6209df14ec5b934045 781b9544244bce97a44c5eb5916da23437653991 b9a40c4b26407659d89c67388fe14fed60dc3e17 63ce060e5b33ca4b58d508be11af4d3c214fae33 135e3176b64eb0ea139f40adb7f5b1c3e89e3577 0e0438bfaaee58d999340fd91db2bc5fcab433dc 1f296397cafbbd5bcf59f01bdf739ccc4a3658ae a3132f2906d0f8bdcb150749b3fbe31a63923da0 a3d4eefa0d851e79154b5b509434c439cde5e511 10f38c06008a1410bc9a1f7d239d831c6b21749a 6dd08c34dccd491add3528b29726ae684b6be264 2c1b7c8c170224657aa4ccbc79374c543d6b84f5 2f4a338da3fd80a0bffd4bfdafbd81208928b977 0dcd1eaae57a6d14a9166c21ab99edf3ec3b036a)
      fi
    fi
  fi

  if [ "$_protonify" = "true" ] && ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 7ba3c31d84fcf49810aaf78aff63ef28b32eb159 HEAD ); then
    _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/remove_hooks_that_time_out)
  fi

  if [ "$_protonify" = "true" ] && ( cd "${srcdir}"/"${_winesrcdir}" && ! git merge-base --is-ancestor c86955d3806879fc97b127730e9fb90e232710a7 HEAD ); then # Needs rebasing against c86955d
    if [ "$_childwindow_fix" = "false" ] && ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor d9fc5b3f967f1c5126278565beb6b967f9d6d80a HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u.implement_rudimentary_EnableMouseInPointer_support5)
    elif [ "$_childwindow_fix" = "false" ] && ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 189da79a18bcb7baabcd50de36bf2a6ba818b79d HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u.implement_rudimentary_EnableMouseInPointer_support4)
    elif ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor b8732c80b112af388264ac84d726aad09d93c8c6 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u.implement_rudimentary_EnableMouseInPointer_support3)
    elif ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 2c7b8e001111bb9e7bdf0189ca88d85883f6d90d HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u.implement_rudimentary_EnableMouseInPointer_support2)
    elif ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor 5bcb9d12631769e9d980151399f059805dc37dc3 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/win32u.implement_rudimentary_EnableMouseInPointer_support)
    fi
  fi
  if [ "$_protonify" = "true" ] && [ "$_childwindow_fix" = "true" ] && ( cd "${srcdir}"/"${_winesrcdir}" && ! git merge-base --is-ancestor c86955d3806879fc97b127730e9fb90e232710a7 HEAD ); then # Needs rebasing against c86955d
    if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor ef8e4b7e3e32e2beb317411c5bd6e5cedf71cfb7 HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Add_a_GPU_for_each_Vulkan_device_that_was_not_tied_to_an_XRandR_provider)
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Ignore_ClipCursor_if_desktop_window_is_foreground)
    elif ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor dfd5f109fb4ebad859bf3ce3960b3b2b2ad1341d HEAD ); then
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Add_a_GPU_for_each_Vulkan_device_that_was_not_tied_to_an_XRandR_provider-legacy)
      _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/winex11.drv_Ignore_ClipCursor_if_desktop_window_is_foreground)
    fi
  fi
fi

# staging fs hack addition
if ( [ "$_EXTERNAL_INSTALL" = "proton" ] && [ "$_use_staging" = "true" ] || [ "$_proton_fs_hack" = "true" ] ) && ( cd "${srcdir}"/"${_stgsrcdir}" && git merge-base --is-ancestor 76f8eb15f17ff9ae52f6c2b61824978762d421ef HEAD ) && [ -e "${srcdir}/${_stgsrcdir}/patches/imm32-com-initialization/definition" ] && ! grep -Fxq 'Disabled: true' "${srcdir}/${_stgsrcdir}/patches/imm32-com-initialization/definition"; then
  _hotfixes+=("$_where"/wine-tkg-patches/hotfixes/proton_fs_hack_staging/imm32-com-initialization_no_net_active_window)
fi

# fshack breakers - revert until fixed
if ( cd "${srcdir}"/"${_winesrcdir}" && git merge-base --is-ancestor fb8ab5e9d079474e07d753341393c0c1bfe32ddd HEAD && ! git merge-base --is-ancestor 9561af9a7d8d77e2f98341e278c842226cae47ed HEAD ) && [ "$_proton_fs_hack" = "true" ]; then
  _hotfix_mainlinereverts+=(a76fd1c312bfdff33774e361660f7fd29041099f 961d611baf0bfe0dd087aebb1d7efad2e98a6f0b 8f2f1f83c38c5792aac4105624ff60a313e95ef2 fb8ab5e9d079474e07d753341393c0c1bfe32ddd)
fi
